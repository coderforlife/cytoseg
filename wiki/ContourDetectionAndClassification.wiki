To run this example

   * change directory to cytoseg/testing/
   * run the command python find_contours.py

In this example variables are set to the following default values:

{{{
def probabilityFunction(features):
    amplitude = 1
    overlapValue = gaussian(1.0 - features['ellipseOverlap'], amplitude, 0.2)
    perimeterValue = gaussian(abs(11.0 - features['perimeter']), amplitude, 2.0)
    grayValueMatch = gaussian(abs(0.8 - features['averageGrayValue']), amplitude, 0.25)
    areaMatch = gaussian(abs(60 - math.sqrt(features['contourArea'])), amplitude, 10)
    return overlapValue * perimeterValue * grayValueMatch * areaMatch
}}}

You can edit voxel_classification.py to change these parameters:

   * voxelTrainingImageFilePath - set this to the path of the image stack that will train the classifier
   * voxelTrainingLabelFilePath - set this to the path of the training pixel stack. This stack should have pixels with value 1 were the membrane is and 0 where it is not.
   * inputImageFilePath - set this to the path of your input data set

A window will pop up when this file runs.

Processing takes some time and the console output will report progress.

Note:
To use the full gui, you'll need to resize the window labeled `ParticleMotionTool`, this will make scroll bars appear. (This is a work around for a bug - the scroll bars don't appear at startup.)

To view output as it is generated,
   * make sure data tree for volume selection is set to `outputDataLabel1_ProbabilityVolume`
   * adjust zIndex in the `imageControls` window

When processing completes, to save the the output to an image stack:
   * make sure data tree for volume selection is set to `outputDataLabel1_ProbabilityVolume`
   * press `saveCurrentlyDisplayedVolume` button, you will have to scroll down to find it



http://cytoseg.googlecode.com/svn/trunk/cytoseg/docs/voxel_classification_progress.PNG